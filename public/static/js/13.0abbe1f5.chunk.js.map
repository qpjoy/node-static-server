{"version":3,"sources":["utils/unity.js","components/pages/landing/Login.js"],"names":["userAgent","navigator","vendor","window","opera","isIOS","test","MSStream","isAndroid","unityJSON","action","json","console","log","strJSON","JSON","stringify","sendMessageToUnity","message","alert","appendIframeWithURL","UnityInAppBrowser","sendMessageFromJS","concat","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","login","email","phone","password","passwordA","name","_userLogin","type","emailRef","React","createRef","_this2","_this$state","react_default","a","createElement","className","src","placeholder","value","onChange","e","setState","target","id","required","htmlFor","pattern","ref","onClick","Component"],"mappings":"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","file":"static/js/13.0abbe1f5.chunk.js","sourcesContent":["const userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\nfunction isIOS() {\r\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction isAndroid() {\r\n    return (/android/i.test(userAgent));\r\n}\r\n\r\nfunction sendMessageToUnity(message) {\r\n    if (isIOS()) {\r\n        alert('isIOS');\r\n        window.appendIframeWithURL&&window.appendIframeWithURL('inappbrowserbridge://' + message);\r\n    } else if (isAndroid()){\r\n        alert('isAndroid');\r\n        window.UnityInAppBrowser&&window.UnityInAppBrowser.sendMessageFromJS(message);\r\n    }\r\n}\r\n\r\n\r\nexport function unityJSON(action, json) {\r\n    console.log('in unity JSON', action, json);\r\n    if(!window[action]) {\r\n        return;\r\n    }\r\n    const strJSON = JSON.stringify(json);\r\n    if(isAndroid() || isIOS()) {\r\n        sendMessageToUnity(`${action}, [\"${json}\"]`);\r\n    }else {\r\n        window[action](strJSON, `${action}, [\"${strJSON}\"]`);\r\n    }\r\n}\r\n\r\n\r\n// export function confirmClickedUnity() {\r\n//     if(window.userLogin) {\r\n//         alert('Welcome to Avatar! Click to confirm.')\r\n//         const vv = {\r\n//             name: '123123',\r\n//             type : 0\r\n//         };\r\n//         window.userLogin('userLogin',[`${JSON.stringify(vv)}`]);\r\n//     }\r\n// }","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Button} from 'antd';\r\nimport {unityJSON} from 'utils/unity';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.emailRef = React.createRef();\r\n    }\r\n\r\n    state = {\r\n        login: true,\r\n        email: '',\r\n        phone: '',\r\n        password: '',\r\n        passwordA: '',\r\n        name: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    // _confirm = async data => {\r\n    //     const {token} = this.state.login ? data.login : data.signup\r\n    //     this._saveUserData(token)\r\n    //     this.props.history.push(`/`)\r\n    // }\r\n    //\r\n    // _saveUserData = token => {\r\n    //     localStorage.setItem(AUTH_TOKEN, token)\r\n    // }\r\n    //\r\n    // _checkEmail = debounce((e, mutation) => {\r\n    //     // if(!validateEmail(email)) {\r\n    //     //     console.log('mutation');\r\n    //     //     // return;\r\n    //     // }\r\n    //     // mutation();\r\n    //     console.log(e, mutation)\r\n    //\r\n    //     this.emailRef.current.setCustomValidity(\"This field cannot be left blank\");\r\n    //     console.log(this.emailRef.current);\r\n    //     mutation();\r\n    //     // {\r\n    //     //     const {\r\n    //     //         email\r\n    //     //     } = this.state;\r\n    //     // }\r\n    // }, 500)\r\n\r\n    _userLogin = () => {\r\n        const {\r\n            name\r\n        } = this.state;\r\n        let json = {\r\n            name,\r\n            type: 0\r\n        }\r\n        unityJSON('userLogin', json);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            login,\r\n            phone,\r\n            email,\r\n            password,\r\n            passwordA,\r\n            name\r\n        } = this.state;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <div className=\"landing\">\r\n                        <div className=\"landing-header\">\r\n                            <div className=\"landing-header__operator\">\r\n                                <div className=\"landing-header__operator\">\r\n                                    <img className=\"landing-header__operator-min\"\r\n                                         src=\"http://www.wulihub.com.cn/go/Qxa7kJ/images/详情1/u21.png\"/>\r\n                                </div>\r\n                                <div className=\"landing-header__operator\">\r\n                                    <img className=\"landing-header__operator-x\"\r\n                                         src=\"http://www.wulihub.com.cn/go/Qxa7kJ/images/详情1/u20.png\"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"landing-logo\">\r\n                            <img className=\"landing-logo_imgT\"\r\n                                 src=\"http://www.wulihub.com.cn/go/Qxa7kJ/images/账号登录/u464.svg\"/>\r\n                            <div className=\"landing-logo_name\">\r\n                                <div className=\"landing-logo_name--project\">\r\n                                    PROJECT\r\n                                </div>\r\n                                <div className=\"landing-logo_name--avatar\">\r\n                                    AVATAR\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <form action=\"#\">\r\n                            <div className=\"landing-form form\">\r\n                                <div className=\"form__group\">\r\n                                    <input type=\"text\" className=\"form__input\" placeholder=\"请输入用户名\"\r\n                                           value={name}\r\n                                           onChange={e => this.setState({name: e.target.value})}\r\n                                           id=\"name\" required/>\r\n                                    <label htmlFor=\"name\" className=\"form__label\">请输入用户名</label>\r\n                                </div>\r\n                                {/*{*/}\r\n                                {/*    !login && (*/}\r\n                                {/*    )*/}\r\n                                {/*}*/}\r\n\r\n\r\n                                <div className=\"form__group\">\r\n                                    <input type=\"email\" className=\"form__input\" placeholder=\"请输入邮箱\"\r\n                                           pattern=\"/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\"\r\n                                           value={email}\r\n                                           onChange={e => this.setState({email: e.target.value})}\r\n                                           ref={this.emailRef}\r\n                                        // oninvalid=\"this.setCustomValidity('Enter User Name Here')\"\r\n                                        // oninput=\"this.setCustomValidity('')\"\r\n                                           id=\"email\" required/>\r\n                                    <label htmlFor=\"email\" className=\"form__label\">请输入邮箱</label>\r\n                                </div>\r\n\r\n                                {\r\n                                    !login && (\r\n                                        <div className=\"form__group\">\r\n                                            <input type=\"text\" className=\"form__input\" placeholder=\"请输入手机\"\r\n                                                   value={phone}\r\n                                                   onChange={e => this.setState({phone: e.target.value})}\r\n                                                   id=\"phone\" required/>\r\n                                            <label htmlFor=\"phone\" className=\"form__label\">请输入手机</label>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n\r\n\r\n                                <div className=\"form__group\">\r\n                                    <input type=\"password\" className=\"form__input\" placeholder=\"请输入密码\"\r\n                                           value={password}\r\n                                           onChange={e => this.setState({password: e.target.value})}\r\n                                           id=\"password\" required/>\r\n                                    <label htmlFor=\"password\" className=\"form__label\">请输入密码</label>\r\n                                </div>\r\n\r\n                                {\r\n                                    !login && (\r\n                                        <div className=\"form__group\">\r\n                                            <input type=\"password\" className=\"form__input\" placeholder=\"请再次输入密码\"\r\n                                                   value={passwordA}\r\n                                                   onChange={e => this.setState({passwordA: e.target.value})}\r\n                                                   id=\"passwordA\"\r\n                                                   required/>\r\n                                            <label htmlFor=\"passwordA\" className=\"form__label\">请再次输入密码</label>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n\r\n\r\n                                <div className=\"form__group\">\r\n                                    <div className=\"form__text-group\">\r\n                                        <div className=\"form__sms-login\">\r\n                                            <a>短信验证码登录</a>\r\n                                        </div>\r\n                                        <div className=\"form__forget-pwd\">\r\n                                            <a>忘记密码</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form__group form__btn-group\">\r\n                                    {login ?\r\n                                        (<div className=\"form__btn-group_item\"\r\n                                              onClick={\r\n                                                  (e) => this._userLogin()\r\n                                              }>\r\n                                            <a className=\"btn-primary btn-primary--blue\">\r\n                                                 登录\r\n                                            </a>\r\n                                        </div>) :\r\n                                        (\r\n                                            <div className=\"form__btn-group_item\"\r\n                                                 onClick={\r\n                                                     (e) => console.log(e)\r\n                                                 }>\r\n                                                <a className=\"btn-primary btn-primary--blue\">\r\n                                                  注册\r\n                                                </a>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n\r\n                                    <div className=\"form__btn-group_item\"\r\n                                         onClick={() => this.setState({login: !login})}\r\n                                    >\r\n                                        <a className=\"btn-primary\">\r\n                                            {\r\n                                                login ? '前去注册' : '已有账号'\r\n                                            }\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"dividing\"></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n"],"sourceRoot":""}